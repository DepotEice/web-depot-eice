@using Web.DepotEice.UIL.Models.Forms

<EditForm class="mt-3" Model="@UpdatePassword" OnValidSubmit="@OnValidationSubmit" style="width: 50%">
    <DataAnnotationsValidator></DataAnnotationsValidator>

    <div class="mb-3">
        <label for="email" class="form-label">Nouveau mot de passe</label>
        <InputText type="password" class="form-control" id="password" aria-describedby="aide password"
                   @bind-Value="UpdatePassword.Password" />
        <ValidationMessage class="text-danger" For="@(() => UpdatePassword.Password)" />
    </div>
    <div class="mb-3">
        <label for="confirmPassword" class="form-label">Confirmer le nouveau mot de passe</label>
        <InputText type="password" class="form-control" id="confirmPassword"
                   aria-describedby="aide confirmation password" @bind-Value="UpdatePassword.ConfirmPassword" />
        <ValidationMessage class="text-danger" For="@(() => UpdatePassword.ConfirmPassword)" />
    </div>
    <div class="mb-3">
        <button type="submit" class="btn btn-outline-primary mx-auto" @onclick="OnValidationSubmit">
            Valider
        </button>
    </div>
    <div class="mb-3">
        Si vous ne possédez pas de compte, inscrivez-vous <NavLink class="" href="register">ici</NavLink>
    </div>
</EditForm>

@code {
    [Parameter]
    public UpdatePasswordForm UpdatePassword { get; set; } = new();

    [Parameter]
    public Action? OnFormExecuted { get; set; }

    public void OnValidationSubmit()
    {
        OnFormExecuted?.Invoke();
    }
}
